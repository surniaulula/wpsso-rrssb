!function(c,h,d){"use strict";function o(){h(".rrssb-buttons").each(function(t){var e=h(this),e=h("li:visible",e),s=100/e.length;e.css("width",s+"%").attr("data-initwidth",s)})}function r(t){h(".rrssb-buttons").each(function(t){var e=h(this),i=h("li",e);h(i.get().reverse()).each(function(t,e){var s,r=h(this);!1===r.hasClass("small")&&(s=parseFloat(r.attr("data-size"))+55,parseFloat(r.width())<s)&&(r=i.not(".small").last(),h(r).addClass("small"),m()),--e||l()})}),!0===t&&e(m)}function t(){h(".rrssb-buttons").each(function(t){h(this).addClass("rrssb-"+(t+1))});var t=h("<div>"),e=["calc","-webkit-calc","-moz-calc"];h("body").append(t);for(var s=0;s<e.length;s++)if(t.css("width",e[s]+"(1px)"),1===t.width()){u.calc=e[s];break}t.remove(),o(),h(".rrssb-buttons li .rrssb-text").each(function(t){var e=h(this),s=e.width();e.closest("li").attr("data-size",s)}),r(!0)}var i,u={calc:!1},a=(h.fn.rrssb=function(t){var e,s=h.extend({description:d,emailAddress:d,emailBody:d,emailSubject:d,image:d,title:d,url:d},t);for(e in s.emailSubject=s.emailSubject||s.title,s.emailBody=s.emailBody||(s.description||"")+(s.url?"\n\n"+s.url:""),s)s.hasOwnProperty(e)&&s[e]!==d&&(s[e]=a(s[e]));s.url!==d&&(h(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+s.url),h(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+s.url+(s.title!==d?"&name="+s.title:"")+(s.description!==d?"&description="+s.description:"")),h(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+s.url+(s.title!==d?"&title="+s.title:"")+(s.description!==d?"&summary="+s.description:"")),h(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(s.description!==d?s.description:"")+"%20"+s.url),h(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+s.url+(s.title!==d?"&text="+s.title:"")),h(this).find(".rrssb-vk a").attr("href","https://vk.com/share.php?url="+s.url),h(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+s.url+(s.description!==d?"&text="+s.description:"")+(s.title!==d?"&title="+s.title:"")),h(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+s.url),h(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+s.url+(s.image!==d?"&amp;media="+s.image:"")+(s.description!==d?"&description="+s.description:"")),h(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+s.url),h(this).find(".rrssb-github a").attr("href",s.url),h(this).find(".rrssb-print a").attr("href","javascript:window.print()"),h(this).find(".rrssb-whatsapp a").attr("href","whatsapp://send?text="+(s.description!==d?s.description+"%20":s.title!==d?s.title+"%20":"")+s.url)),s.emailAddress===d&&!s.emailSubject||h(this).find(".rrssb-email a").attr("href","mailto:"+(s.emailAddress||"")+"?"+(s.emailSubject!==d?"subject="+s.emailSubject:"")+(s.emailBody!==d?"&body="+s.emailBody:""))},function(t){if(t!==d&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),a(t)}}),l=function(){h(".rrssb-buttons").each(function(t){var e=h(this),s=h("li",e),r=s.filter(".small"),i=0,a=0,l=r.eq(0),n=parseFloat(l.attr("data-size"))+55,o=r.length;o===s.length?42*o+n<e.width()&&(e.removeClass("small-format"),r.eq(0).removeClass("small"),m()):(s.not(".small").each(function(t){var e=h(this),s=parseFloat(e.attr("data-size"))+55,e=parseFloat(e.width());i+=e,a+=s}),n<i-a&&(l.removeClass("small"),m()))})},m=function(){h(".rrssb-buttons").each(function(t){var e,s,r,i=h(this),a=h("li",i),l=a.filter(".small"),n=l.length;0<n&&n!==a.length?(i.removeClass("small-format"),l.css("width","42px"),l=42*n,s=100/(e=a.not(".small").length),l=l/e,!1===u.calc?(r=(i.innerWidth()-1)/e-l,r=Math.floor(1e3*r)/1e3,r+="px"):r=u.calc+"("+s+"% - "+l+"px)",a.not(".small").css("width",r)):(n===a.length?i.addClass("small-format"):i.removeClass("small-format"),o())}),h(".rrssb-buttons").each(function(t){var e=h(this),s=e.width(),r=h("li",e).not(".small").eq(0).width(),i=h("li.small",e).length;170<r&&i<1?(e.addClass("large-format"),e.css("font-size",r/12+"px")):(e.removeClass("large-format"),e.css("font-size","")),s<25*i?e.removeClass("small-format").addClass("tiny-format"):e.removeClass("tiny-format")})},e=function(t){h(".rrssb-buttons li.small").removeClass("small"),r(),t()},s=(i={},function(t,e,s){i[s=s||"Don't call this twice without a uniqueId"]&&clearTimeout(i[s]),i[s]=setTimeout(t,e)});h(function(){try{h(document).on("click",".rrssb-buttons a.popup",{},function(t){var e,s,r,i,a,l,n,o=h(this);e=o.attr("href"),o=o.find(".rrssb-text").html(),s=580,r=470,i=c.screenLeft!==d?c.screenLeft:screen.left,a=c.screenTop!==d?c.screenTop:screen.top,l=c.innerWidth||document.documentElement.clientWidth||screen.width,n=c.innerHeight||document.documentElement.clientHeight||screen.height,(e=c.open(e,o,"scrollbars=yes, width="+s+", height="+r+", top="+(n/3-r/3+a)+", left="+(l/2-s/2+i)))&&e.focus&&e.focus(),t.preventDefault()})}catch(t){}h(c).resize(function(){e(m),s(function(){e(m)},200,"finished resizing")}),t()}),c.rrssbInit=t}(window,jQuery);