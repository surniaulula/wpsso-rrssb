!function(c,h,d){"use strict";var o={calc:!1};h.fn.rrssb=function(t){var e,s=h.extend({description:d,emailAddress:d,emailBody:d,emailSubject:d,image:d,title:d,url:d},t);for(e in s.emailSubject=s.emailSubject||s.title,s.emailBody=s.emailBody||(s.description||"")+(s.url?"\n\n"+s.url:""),s)s.hasOwnProperty(e)&&s[e]!==d&&(s[e]=i(s[e]));s.url!==d&&(h(this).find(".rrssb-facebook a").attr("href","https://www.facebook.com/sharer/sharer.php?u="+s.url),h(this).find(".rrssb-tumblr a").attr("href","http://tumblr.com/share/link?url="+s.url+(s.title!==d?"&name="+s.title:"")+(s.description!==d?"&description="+s.description:"")),h(this).find(".rrssb-linkedin a").attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+s.url+(s.title!==d?"&title="+s.title:"")+(s.description!==d?"&summary="+s.description:"")),h(this).find(".rrssb-twitter a").attr("href","https://twitter.com/intent/tweet?text="+(s.description!==d?s.description:"")+"%20"+s.url),h(this).find(".rrssb-hackernews a").attr("href","https://news.ycombinator.com/submitlink?u="+s.url+(s.title!==d?"&text="+s.title:"")),h(this).find(".rrssb-vk a").attr("href","https://vk.com/share.php?url="+s.url),h(this).find(".rrssb-reddit a").attr("href","http://www.reddit.com/submit?url="+s.url+(s.description!==d?"&text="+s.description:"")+(s.title!==d?"&title="+s.title:"")),h(this).find(".rrssb-googleplus a").attr("href","https://plus.google.com/share?url="+s.url),h(this).find(".rrssb-pinterest a").attr("href","http://pinterest.com/pin/create/button/?url="+s.url+(s.image!==d?"&amp;media="+s.image:"")+(s.description!==d?"&description="+s.description:"")),h(this).find(".rrssb-pocket a").attr("href","https://getpocket.com/save?url="+s.url),h(this).find(".rrssb-github a").attr("href",s.url),h(this).find(".rrssb-print a").attr("href","javascript:window.print()"),h(this).find(".rrssb-whatsapp a").attr("href","whatsapp://send?text="+(s.description!==d?s.description+"%20":s.title!==d?s.title+"%20":"")+s.url)),s.emailAddress===d&&!s.emailSubject||h(this).find(".rrssb-email a").attr("href","mailto:"+(s.emailAddress||"")+"?"+(s.emailSubject!==d?"subject="+s.emailSubject:"")+(s.emailBody!==d?"&body="+s.emailBody:""))};function u(){h(".rrssb-buttons").each(function(t){var e=h(this),s=h("li:visible",e),e=100/s.length;s.css("width",e+"%").attr("data-initwidth",e)})}function e(t){h(".rrssb-buttons").each(function(t){var e=h(this),i=h("li",e);h(i.get().reverse()).each(function(t,e){var s,r=h(this);!1===r.hasClass("small")&&(s=parseFloat(r.attr("data-size"))+55,parseFloat(r.width())<s&&(s=i.not(".small").last(),h(s).addClass("small"),m())),--e||a()})}),!0===t&&s(m)}function t(){h(".rrssb-buttons").each(function(t){h(this).addClass("rrssb-"+(t+1))}),function(){var t=h("<div>"),e=["calc","-webkit-calc","-moz-calc"];h("body").append(t);for(var s=0;s<e.length;s++)if(t.css("width",e[s]+"(1px)"),1===t.width()){o.calc=e[s];break}t.remove()}(),u(),h(".rrssb-buttons li .rrssb-text").each(function(t){var e=h(this),s=e.width();e.closest("li").attr("data-size",s)}),e(!0)}var r,i=function(t){if(t!==d&&null!==t){if(null===t.match(/%[0-9a-f]{2}/i))return encodeURIComponent(t);t=decodeURIComponent(t),i(t)}},a=function(){h(".rrssb-buttons").each(function(t){var e=h(this),s=h("li",e),r=s.filter(".small"),i=0,a=0,n=r.eq(0),l=parseFloat(n.attr("data-size"))+55,o=r.length;o===s.length?42*o+l<e.width()&&(e.removeClass("small-format"),r.eq(0).removeClass("small"),m()):(s.not(".small").each(function(t){var e=h(this),s=parseFloat(e.attr("data-size"))+55,e=parseFloat(e.width());i+=e,a+=s}),l<i-a&&(n.removeClass("small"),m()))})},m=function(){h(".rrssb-buttons").each(function(t){var e,s,r,i=h(this),a=h("li",i),n=a.filter(".small"),l=n.length;0<l&&l!==a.length?(i.removeClass("small-format"),n.css("width","42px"),r=42*l,n=100/(e=a.not(".small").length),r=r/e,!1===o.calc?(s=(i.innerWidth()-1)/e-r,s=Math.floor(1e3*s)/1e3,s+="px"):s=o.calc+"("+n+"% - "+r+"px)",a.not(".small").css("width",s)):(l===a.length?i.addClass("small-format"):i.removeClass("small-format"),u())}),h(".rrssb-buttons").each(function(t){var e=h(this),s=e.width(),r=h("li",e).not(".small").eq(0).width(),i=h("li.small",e).length;170<r&&i<1?(e.addClass("large-format"),e.css("font-size",r/12+"px")):(e.removeClass("large-format"),e.css("font-size","")),s<25*i?e.removeClass("small-format").addClass("tiny-format"):e.removeClass("tiny-format")})},s=function(t){h(".rrssb-buttons li.small").removeClass("small"),e(),t()},n=(r={},function(t,e,s){r[s=s||"Don't call this twice without a uniqueId"]&&clearTimeout(r[s]),r[s]=setTimeout(t,e)});h(function(){try{h(document).on("click",".rrssb-buttons a.popup",{},function(t){var e,s,r,i,a,n,l,o=h(this);e=o.attr("href"),s=o.find(".rrssb-text").html(),r=580,i=470,a=c.screenLeft!==d?c.screenLeft:screen.left,n=c.screenTop!==d?c.screenTop:screen.top,l=c.innerWidth||document.documentElement.clientWidth||screen.width,o=c.innerHeight||document.documentElement.clientHeight||screen.height,(a=c.open(e,s,"scrollbars=yes, width="+r+", height="+i+", top="+(o/3-i/3+n)+", left="+(l/2-r/2+a)))&&a.focus&&a.focus(),t.preventDefault()})}catch(t){}h(c).resize(function(){s(m),n(function(){s(m)},200,"finished resizing")}),t()}),c.rrssbInit=t}(window,jQuery);